const e={list:document.querySelector(".list"),LoadMore:document.querySelector(".js-load-more")};let t=1;function o(e=1){const t=new URLSearchParams({api_key:"92a9a9e3708a3e9451b7037d5906879a",page:e});return fetch(`https://api.themoviedb.org/3/trending/movie/week?${t}`).then((e=>{if(!e.ok)throw new Error(`Error ${e.status}: ${e.statusText}`);return e.json()}))}function a(e){return e.map((({poster_path:e,original_title:t,release_date:o,vote_average:a})=>`<li class='items'>\n    <img src="https://image.tmdb.org/t/p/w500${e}" alt="${t}">\n      <div>\n        <h2>${t}</h2>\n        <p>${o}</p>\n        <p>${a}</p>\n      </div>\n  </li>`)).join("")}e.LoadMore.addEventListener("click",(function({target:n}){t+=1,n.disabled=!0,o(t).then((t=>{e.list.insertAdjacentHTML("beforeend",a(t.results)),t.page>=t.total_pages&&e.LoadMore.classList.replace("load-more","hidden")})).catch((e=>console.log(e))).finally((()=>n.disabled=!1))})),o().then((t=>{console.log(t),e.list.insertAdjacentHTML("beforeend",a(t.results)),t.page<t.total_pages&&e.LoadMore.classList.replace("hidden","load-more")})).catch((e=>console.log(e)));
//# sourceMappingURL=index.7400cdec.js.map
