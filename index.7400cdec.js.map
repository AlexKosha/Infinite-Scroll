{"mappings":"AAIA,MAAMA,EAAO,CACXC,KAAOC,SAASC,cAAc,SAC9BC,SAAWF,SAASC,cAAc,kBAGpC,IAAIE,EAAO,EAaX,SAASC,EAAcC,EAAO,GAC5B,MAIMC,EAAS,IAAIC,gBAAiB,CAClCC,QALc,mCAMdC,KAAAJ,IAGF,OAAOK,MAAM,oDAA4BJ,KAAUK,MAAKC,IACtD,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAM,SAASF,EAAIG,WAAWH,EAAII,cAE7C,OAAOJ,EAAIK,MAAM,G,CAqBtB,SAASC,EAAaC,GACpB,OAAOA,EAAIC,KAAI,EAACC,YAACA,EAAWC,eAAEA,EAAcC,aAACA,EAAYC,aAAEA,KAC3D,oEAC6CH,WAAqBC,iCAEtDA,sBACDC,qBACAC,iCAGVC,KAAK,G,CAxDR3B,EAAKI,SAASwB,iBAAiB,SA6B/B,UAAoBC,OAACA,IACnBxB,GAAQ,EACRwB,EAAOC,UAAW,EAElBxB,EAAaD,GACVQ,MAAKkB,IAEJ/B,EAAKC,KAAK+B,mBAAmB,YAAaZ,EAAaW,EAAKE,UAEzDF,EAAKpB,MAAQoB,EAAKG,aACnBlC,EAAKI,SAAS+B,UAAUC,QAAQ,YAAc,SAAS,IAG1DC,OAAMC,GAAOC,QAAQC,IAAIF,KACzBG,SAAQ,IAAMZ,EAAOC,UAAW,G,IAzCrCxB,IACCO,MAAKkB,IACJQ,QAAQC,IAAIT,GACZ/B,EAAKC,KAAK+B,mBAAmB,YAAaZ,EAAaW,EAAKE,UACzDF,EAAKpB,KAAOoB,EAAKG,aACtBlC,EAAKI,SAAS+B,UAAUC,QAAQ,SAAU,YAAY,IAEnDC,OAAMC,GAAOC,QAAQC,IAAIF","sources":["src/index.js"],"sourcesContent":["// 92a9a9e3708a3e9451b7037d5906879a\n// https://api.themoviedb.org/3\n// /trending/movie/\n\nconst refs = {\n  list : document.querySelector('.list'),\n  LoadMore : document.querySelector('.js-load-more')\n}\n\nlet page = 1;\n\nrefs.LoadMore.addEventListener('click', onLoadMore)\n\nserviceMovie()\n.then(data => {\n  console.log(data);\n  refs.list.insertAdjacentHTML('beforeend', createMarkup(data.results))\n  if(data.page < data.total_pages){\nrefs.LoadMore.classList.replace('hidden', 'load-more')\n  }\n}).catch(err => console.log(err))\n\nfunction serviceMovie (page = 1){\n  const API_KEY = '92a9a9e3708a3e9451b7037d5906879a'\n  const BASE_URL = 'https://api.themoviedb.org/3'\n  const END_POINT = 'trending/movie/week'\n\n  const params = new URLSearchParams ({\n    api_key : API_KEY,\n    page,\n  })\n\n  return fetch(`${BASE_URL}/${END_POINT}?${params}`).then(res => {\n    if (!res.ok) {\n      throw new Error(`Error ${res.status}: ${res.statusText}`)\n    }\n     return res.json();\n  })\n}\n\nfunction onLoadMore({target}) {\n  page += 1.\n  target.disabled = true;\n\n  serviceMovie(page)\n    .then(data => {\n\n      refs.list.insertAdjacentHTML('beforeend', createMarkup(data.results))\n      \n      if(data.page >= data.total_pages){\n        refs.LoadMore.classList.replace('load-more' , 'hidden')\n      }\n    })\n    .catch(err => console.log(err))\n    .finally(()=> (target.disabled = false))\n}\n\nfunction createMarkup(arr){\n  return arr.map(({poster_path, original_title,release_date, vote_average })=>\n  `<li class='items'>\n    <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${original_title}\">\n      <div>\n        <h2>${original_title}</h2>\n        <p>${release_date}</p>\n        <p>${vote_average}</p>\n      </div>\n  </li>`)\n  .join('')\n}"],"names":["$1f0dc3b9307be026$var$refs","list","document","querySelector","LoadMore","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$serviceMovie","page1","params","URLSearchParams","api_key","page","fetch","then","res","ok","Error","status","statusText","json","$1f0dc3b9307be026$var$createMarkup","arr","map","poster_path","original_title","release_date","vote_average","join","addEventListener","target","disabled","data","insertAdjacentHTML","results","total_pages","classList","replace","catch","err","console","log","finally"],"version":3,"file":"index.7400cdec.js.map"}